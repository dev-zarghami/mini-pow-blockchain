{
    "sourceFile": "apps/scanner/public/index.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1761987024829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1761987136834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,65 +1,32 @@\n <!DOCTYPE html>\n <html lang=\"fa\">\n <head>\n <meta charset=\"UTF-8\" />\n-<title>Mini Blockchain Scanner</title>\n-<style>\n-  body { font-family: sans-serif; background: #121212; color: #eaeaea; text-align: center; }\n-  input { padding: 8px; width: 320px; border-radius: 6px; border: 1px solid #555; background: #1e1e1e; color: #fff; }\n-  button { padding: 8px 16px; margin-left: 8px; background: #0066ff; border: none; color: #fff; border-radius: 6px; cursor: pointer; }\n-  table { margin: 20px auto; border-collapse: collapse; width: 90%; }\n-  th, td { border: 1px solid #333; padding: 6px 8px; }\n-  th { background: #222; }\n-  .incoming { color: #00ff99; }\n-  .outgoing { color: #ff5555; }\n-</style>\n+<title>Mini Block Explorer</title>\n+<link rel=\"stylesheet\" href=\"style.css\" />\n </head>\n <body>\n-<h2>ğŸ” Mini Blockchain Scanner</h2>\n+  <header>\n+    <h1>ğŸ” Mini Block Explorer</h1>\n+  </header>\n \n-<div>\n-  <input id=\"addr\" placeholder=\"Enter wallet address...\" />\n-  <button onclick=\"loadAddress()\">Search</button>\n-</div>\n+  <div class=\"container\">\n+    <div>\n+      <input id=\"addr\" placeholder=\"Enter wallet address...\" />\n+      <button onclick=\"loadAddress()\">Search</button>\n+    </div>\n \n-<h3 id=\"bal\">Balance: ...</h3>\n+    <div id=\"balance\" class=\"balance-card\">\n+      <div>ğŸ’° Balance: ...</div>\n+      <div>ğŸ§© UTXOs: ...</div>\n+      <div>ğŸ“œ TXs: ...</div>\n+    </div>\n \n-<div id=\"txs\"></div>\n+    <table class=\"tx-table\" id=\"txs\">\n+      <tr><th>TXID</th><th>Block</th><th>Type</th><th>Amount</th></tr>\n+    </table>\n+  </div>\n \n-<script>\n-const API = '/api/address/';\n-const ws = new WebSocket(`ws://${location.host}`);\n-ws.onmessage = (ev) => {\n-  const msg = JSON.parse(ev.data);\n-  if (['new_block','mempool_tx'].includes(msg.type)) {\n-    if (window.currentAddress) loadAddress(window.currentAddress);\n-  }\n-};\n-\n-async function loadAddress(addr) {\n-  if (!addr) addr = document.getElementById('addr').value.trim();\n-  if (!addr) return;\n-  window.currentAddress = addr;\n-  document.getElementById('bal').textContent = 'Loading...';\n-  const res = await fetch(API + addr);\n-  const data = await res.json();\n-\n-  document.getElementById('bal').textContent =\n-    `Balance: ${data.balance} (UTXOs: ${data.utxos.length})`;\n-\n-  let html = '<table><tr><th>TXID</th><th>Block</th><th>In</th><th>Out</th><th>Net</th></tr>';\n-  for (const t of data.txHistory) {\n-    html += `<tr>\n-      <td>${t.txid.slice(0,12)}...</td>\n-      <td>${t.block ?? 'mempool'}</td>\n-      <td>${t.received}</td>\n-      <td>${t.sent}</td>\n-      <td class=\"${t.net>=0?'incoming':'outgoing'}\">${t.net>=0?'+':'-'}${Math.abs(t.net)}</td>\n-    </tr>`;\n-  }\n-  html += '</table>';\n-  document.getElementById('txs').innerHTML = html;\n-}\n-</script>\n+<script src=\"app.js\"></script>\n </body>\n </html>\n"
                },
                {
                    "date": 1761988729335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,29 @@\n <!DOCTYPE html>\n <html lang=\"fa\">\n <head>\n-<meta charset=\"UTF-8\" />\n-<title>Mini Block Explorer</title>\n-<link rel=\"stylesheet\" href=\"style.css\" />\n+  <meta charset=\"UTF-8\">\n+  <title>Blockchain Explorer</title>\n+  <link rel=\"stylesheet\" href=\"style.css\">\n </head>\n <body>\n   <header>\n-    <h1>ğŸ” Mini Block Explorer</h1>\n+    <h1>ğŸ”— Blockchain Explorer</h1>\n   </header>\n \n   <div class=\"container\">\n-    <div>\n-      <input id=\"addr\" placeholder=\"Enter wallet address...\" />\n-      <button onclick=\"loadAddress()\">Search</button>\n+    <div id=\"chain-view\"></div>\n+\n+    <div id=\"block-details\" class=\"details\">\n+      <h3>ğŸ§± Block Details</h3>\n+      <p>Select a block to view details.</p>\n     </div>\n \n-    <div id=\"balance\" class=\"balance-card\">\n-      <div>ğŸ’° Balance: ...</div>\n-      <div>ğŸ§© UTXOs: ...</div>\n-      <div>ğŸ“œ TXs: ...</div>\n+    <div id=\"tx-list\" class=\"tx-section\">\n+      <h3>ğŸ’¸ Recent Transactions</h3>\n+      <p>Loading...</p>\n     </div>\n-\n-    <table class=\"tx-table\" id=\"txs\">\n-      <tr><th>TXID</th><th>Block</th><th>Type</th><th>Amount</th></tr>\n-    </table>\n   </div>\n \n-<script src=\"app.js\"></script>\n+  <script src=\"app.js\"></script>\n </body>\n </html>\n"
                },
                {
                    "date": 1761991261149,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,29 +1,45 @@\n <!DOCTYPE html>\n-<html lang=\"fa\">\n+<html lang=\"en\">\n <head>\n-  <meta charset=\"UTF-8\">\n-  <title>Blockchain Explorer</title>\n-  <link rel=\"stylesheet\" href=\"style.css\">\n+<meta charset=\"UTF-8\">\n+<title>Blockchain Scanner</title>\n+<style>\n+body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }\n+input { width: 350px; padding: 5px; }\n+table { border-collapse: collapse; margin-top: 10px; width: 100%; }\n+th, td { border: 1px solid #333; padding: 5px; text-align: left; }\n+</style>\n </head>\n <body>\n-  <header>\n-    <h1>ğŸ”— Blockchain Explorer</h1>\n-  </header>\n+<h1>Blockchain Scanner</h1>\n+<input id=\"addr\" placeholder=\"Enter address...\" />\n+<button onclick=\"scan()\">Scan</button>\n+<pre id=\"balance\"></pre>\n+<table id=\"txs\"><thead><tr><th>TxID</th><th>Block</th><th>Net</th></tr></thead><tbody></tbody></table>\n \n-  <div class=\"container\">\n-    <div id=\"chain-view\"></div>\n+<script>\n+async function scan(){\n+  const addr=document.getElementById('addr').value;\n+  const res=await fetch(`/api/address/${addr}`);\n+  const data=await res.json();\n+  document.getElementById('balance').textContent=`Balance: ${data.balance}`;\n+  const tbody=document.querySelector('#txs tbody');\n+  tbody.innerHTML='';\n+  for(const t of data.txHistory){\n+    const row=document.createElement('tr');\n+    row.innerHTML=`<td>${t.txid.slice(0,16)}...</td><td>${t.block??'mempool'}</td><td>${t.net}</td>`;\n+    tbody.appendChild(row);\n+  }\n+}\n \n-    <div id=\"block-details\" class=\"details\">\n-      <h3>ğŸ§± Block Details</h3>\n-      <p>Select a block to view details.</p>\n-    </div>\n-\n-    <div id=\"tx-list\" class=\"tx-section\">\n-      <h3>ğŸ’¸ Recent Transactions</h3>\n-      <p>Loading...</p>\n-    </div>\n-  </div>\n-\n-  <script src=\"app.js\"></script>\n+const ws=new WebSocket(`ws://${location.host}`);\n+ws.onmessage=e=>{\n+  const msg=JSON.parse(e.data);\n+  if(['new_block','mempool_tx'].includes(msg.type)){\n+    console.log('ğŸ” Refresh due to',msg.type);\n+    scan();\n+  }\n+};\n+</script>\n </body>\n </html>\n"
                },
                {
                    "date": 1761995968583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,45 +1,29 @@\n <!DOCTYPE html>\n-<html lang=\"en\">\n+<html lang=\"fa\">\n <head>\n-<meta charset=\"UTF-8\">\n-<title>Blockchain Scanner</title>\n-<style>\n-body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }\n-input { width: 350px; padding: 5px; }\n-table { border-collapse: collapse; margin-top: 10px; width: 100%; }\n-th, td { border: 1px solid #333; padding: 5px; text-align: left; }\n-</style>\n+  <meta charset=\"UTF-8\">\n+  <title>Blockchain Explorer</title>\n+  <link rel=\"stylesheet\" href=\"style.css\">\n </head>\n <body>\n-<h1>Blockchain Scanner</h1>\n-<input id=\"addr\" placeholder=\"Enter address...\" />\n-<button onclick=\"scan()\">Scan</button>\n-<pre id=\"balance\"></pre>\n-<table id=\"txs\"><thead><tr><th>TxID</th><th>Block</th><th>Net</th></tr></thead><tbody></tbody></table>\n+  <header>\n+    <h1>ğŸ”— Blockchain Explorer</h1>\n+  </header>\n \n-<script>\n-async function scan(){\n-  const addr=document.getElementById('addr').value;\n-  const res=await fetch(`/api/address/${addr}`);\n-  const data=await res.json();\n-  document.getElementById('balance').textContent=`Balance: ${data.balance}`;\n-  const tbody=document.querySelector('#txs tbody');\n-  tbody.innerHTML='';\n-  for(const t of data.txHistory){\n-    const row=document.createElement('tr');\n-    row.innerHTML=`<td>${t.txid.slice(0,16)}...</td><td>${t.block??'mempool'}</td><td>${t.net}</td>`;\n-    tbody.appendChild(row);\n-  }\n-}\n+  <div class=\"container\">\n+    <div id=\"chain-view\"></div>\n \n-const ws=new WebSocket(`ws://${location.host}`);\n-ws.onmessage=e=>{\n-  const msg=JSON.parse(e.data);\n-  if(['new_block','mempool_tx'].includes(msg.type)){\n-    console.log('ğŸ” Refresh due to',msg.type);\n-    scan();\n-  }\n-};\n-</script>\n+    <div id=\"block-details\" class=\"details\">\n+      <h3>ğŸ§± Block Details</h3>\n+      <p>Select a block to view details.</p>\n+    </div>\n+\n+    <div id=\"tx-list\" class=\"tx-section\">\n+      <h3>ğŸ’¸ Recent Transactions</h3>\n+      <p>Loading...</p>\n+    </div>\n+  </div>\n+\n+  <script src=\"app.js\"></script>\n </body>\n </html>\n"
                },
                {
                    "date": 1761996006401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,29 +1,45 @@\n <!DOCTYPE html>\n-<html lang=\"fa\">\n+<html lang=\"en\">\n <head>\n-  <meta charset=\"UTF-8\">\n-  <title>Blockchain Explorer</title>\n-  <link rel=\"stylesheet\" href=\"style.css\">\n+<meta charset=\"UTF-8\">\n+<title>Blockchain Scanner</title>\n+<style>\n+body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }\n+input { width: 350px; padding: 5px; }\n+table { border-collapse: collapse; margin-top: 10px; width: 100%; }\n+th, td { border: 1px solid #333; padding: 5px; text-align: left; }\n+</style>\n </head>\n <body>\n-  <header>\n-    <h1>ğŸ”— Blockchain Explorer</h1>\n-  </header>\n+<h1>Blockchain Scanner</h1>\n+<input id=\"addr\" placeholder=\"Enter address...\" />\n+<button onclick=\"scan()\">Scan</button>\n+<pre id=\"balance\"></pre>\n+<table id=\"txs\"><thead><tr><th>TxID</th><th>Block</th><th>Net</th></tr></thead><tbody></tbody></table>\n \n-  <div class=\"container\">\n-    <div id=\"chain-view\"></div>\n+<script>\n+async function scan(){\n+  const addr=document.getElementById('addr').value;\n+  const res=await fetch(`/api/address/${addr}`);\n+  const data=await res.json();\n+  document.getElementById('balance').textContent=`Balance: ${data.balance}`;\n+  const tbody=document.querySelector('#txs tbody');\n+  tbody.innerHTML='';\n+  for(const t of data.txHistory){\n+    const row=document.createElement('tr');\n+    row.innerHTML=`<td>${t.txid.slice(0,16)}...</td><td>${t.block??'mempool'}</td><td>${t.net}</td>`;\n+    tbody.appendChild(row);\n+  }\n+}\n \n-    <div id=\"block-details\" class=\"details\">\n-      <h3>ğŸ§± Block Details</h3>\n-      <p>Select a block to view details.</p>\n-    </div>\n-\n-    <div id=\"tx-list\" class=\"tx-section\">\n-      <h3>ğŸ’¸ Recent Transactions</h3>\n-      <p>Loading...</p>\n-    </div>\n-  </div>\n-\n-  <script src=\"app.js\"></script>\n+const ws=new WebSocket(`ws://${location.host}`);\n+ws.onmessage=e=>{\n+  const msg=JSON.parse(e.data);\n+  if(['new_block','mempool_tx'].includes(msg.type)){\n+    console.log('ğŸ” Refresh due to',msg.type);\n+    scan();\n+  }\n+};\n+</script>\n </body>\n </html>\n"
                },
                {
                    "date": 1761997451626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,45 +1,164 @@\n-<!DOCTYPE html>\n-<html lang=\"en\">\n+<!doctype html>\n+<html lang=\"fa\" dir=\"rtl\">\n <head>\n-<meta charset=\"UTF-8\">\n-<title>Blockchain Scanner</title>\n-<style>\n-body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }\n-input { width: 350px; padding: 5px; }\n-table { border-collapse: collapse; margin-top: 10px; width: 100%; }\n-th, td { border: 1px solid #333; padding: 5px; text-align: left; }\n-</style>\n+  <meta charset=\"utf-8\" />\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n+  <title>Mini-Blockchain Scanner</title>\n+  <!-- Vue 3 CDN -->\n+  <script src=\"https://unpkg.com/vue@3/dist/vue.global.prod.js\"></script>\n+  <!-- Icons -->\n+  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n+  <link href=\"https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;800&display=swap\" rel=\"stylesheet\">\n+  <link rel=\"stylesheet\" href=\"style.css\"/>\n </head>\n <body>\n-<h1>Blockchain Scanner</h1>\n-<input id=\"addr\" placeholder=\"Enter address...\" />\n-<button onclick=\"scan()\">Scan</button>\n-<pre id=\"balance\"></pre>\n-<table id=\"txs\"><thead><tr><th>TxID</th><th>Block</th><th>Net</th></tr></thead><tbody></tbody></table>\n+  <div id=\"app\">\n+    <header class=\"topbar\">\n+      <div class=\"brand\">Mini-Chain Explorer</div>\n+      <div class=\"top-stats\">\n+        <span>Ø§Ø±ØªÙØ§Ø¹: <b>{{ stats.height ?? 'â€”' }}</b></span>\n+        <span>Bits: <b>{{ stats.bits ? '0x'+stats.bits.toString(16) : 'â€”' }}</b></span>\n+        <span>Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ù„Ø§Ú©: <b>{{ stats.avgBlockSec ?? 'â€”' }}</b> s</span>\n+        <span>Ù†Ø±Ø® Ù‡Ø´ Ø´Ø¨Ú©Ù‡: <b>{{ stats.estHashrate }}</b></span>\n+      </div>\n+    </header>\n \n-<script>\n-async function scan(){\n-  const addr=document.getElementById('addr').value;\n-  const res=await fetch(`/api/address/${addr}`);\n-  const data=await res.json();\n-  document.getElementById('balance').textContent=`Balance: ${data.balance}`;\n-  const tbody=document.querySelector('#txs tbody');\n-  tbody.innerHTML='';\n-  for(const t of data.txHistory){\n-    const row=document.createElement('tr');\n-    row.innerHTML=`<td>${t.txid.slice(0,16)}...</td><td>${t.block??'mempool'}</td><td>${t.net}</td>`;\n-    tbody.appendChild(row);\n-  }\n-}\n+    <main class=\"container\">\n+      <section class=\"panel\">\n+        <div class=\"panel-header\">\n+          <h3>Ù†Ù…Ø§ÛŒØ´ Ø²Ù†Ø¬ÛŒØ±Ù‡ (Ø¢Ø®Ø±ÛŒÙ† ÛµÛ° Ø¨Ù„Ø§Ú©)</h3>\n+          <div class=\"actions\">\n+            <button @click=\"reload()\">Ø¨Ø§Ø²Ø®ÙˆØ§Ù†ÛŒ</button>\n+          </div>\n+        </div>\n+        <div class=\"chain-strip\" v-if=\"chainWindow.length\">\n+          <div\n+            class=\"block-card\"\n+            :class=\"{ tip: b.index === (stats.height||-1) }\"\n+            v-for=\"b in chainWindow\"\n+            :key=\"b.index\"\n+            @click=\"openBlock(b)\"\n+          >\n+            <div class=\"idx\">#{{ b.index }}</div>\n+            <div class=\"hash\">{{ shortHash(hashOf(b)) }}</div>\n+            <div class=\"txc\">TXs: {{ b.transactions.length }}</div>\n+            <div class=\"time\">{{ formatTime(b.timestamp) }}</div>\n+          </div>\n+        </div>\n+        <div class=\"empty\" v-else>Ø²Ù†Ø¬ÛŒØ±Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒâ€¦</div>\n+      </section>\n \n-const ws=new WebSocket(`ws://${location.host}`);\n-ws.onmessage=e=>{\n-  const msg=JSON.parse(e.data);\n-  if(['new_block','mempool_tx'].includes(msg.type)){\n-    console.log('ğŸ” Refresh due to',msg.type);\n-    scan();\n-  }\n-};\n-</script>\n+      <section class=\"grid\">\n+        <div class=\"panel\">\n+          <div class=\"panel-header\">\n+            <h3>Mempool</h3>\n+            <span class=\"badge\">{{ mempool.length }}</span>\n+          </div>\n+          <div class=\"list\" v-if=\"mempool.length\">\n+            <div class=\"tx-row\" v-for=\"tx in mempool\" :key=\"tx.id\" @click=\"openTx(tx)\">\n+              <div class=\"txid\">{{ short(tx.id) }}</div>\n+              <div class=\"meta\">\n+                <span>ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§: {{ tx.inputs.length }}</span>\n+                <span>Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§: {{ tx.outputs.length }}</span>\n+              </div>\n+            </div>\n+          </div>\n+          <div class=\"empty\" v-else>Ù‡ÛŒÚ† ØªØ±Ø§Ú©Ù†Ø´ÛŒ Ø¯Ø± Ù…Ù…â€ŒÙ¾ÙˆÙ„ Ù†ÛŒØ³Øª.</div>\n+        </div>\n+\n+        <div class=\"panel\">\n+          <div class=\"panel-header\">\n+            <h3>ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡ (Ø§Ø®ÛŒØ±)</h3>\n+          </div>\n+          <div class=\"list\" v-if=\"recentConfirmed.length\">\n+            <div class=\"tx-row\" v-for=\"r in recentConfirmed\" :key=\"r.tx.id\" @click=\"openTx(r.tx)\">\n+              <div class=\"txid\">{{ short(r.tx.id) }}</div>\n+              <div class=\"meta\">\n+                <span>#{{ r.blockHeight }}</span>\n+                <span>ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§: {{ r.tx.inputs.length }}</span>\n+                <span>Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§: {{ r.tx.outputs.length }}</span>\n+              </div>\n+            </div>\n+          </div>\n+          <div class=\"empty\" v-else>Ú†ÛŒØ²ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ÛŒØ³Øª.</div>\n+        </div>\n+      </section>\n+    </main>\n+\n+    <!-- Block Modal -->\n+    <div class=\"modal\" v-if=\"modals.block\">\n+      <div class=\"modal-content\">\n+        <div class=\"modal-header\">\n+          <h3>Block #{{ modals.block.index }}</h3>\n+          <button class=\"close\" @click=\"modals.block=null\">Ã—</button>\n+        </div>\n+        <div class=\"modal-body\">\n+          <div class=\"kv\"><span>Hash</span><code>{{ hashOf(modals.block) }}</code></div>\n+          <div class=\"kv\"><span>Prev</span><code>{{ modals.block.previousHash }}</code></div>\n+          <div class=\"kv\"><span>Merkle</span><code>{{ modals.block.merkleRoot }}</code></div>\n+          <div class=\"kv\"><span>Bits</span><code>{{ '0x'+(modals.block.bits>>>0).toString(16) }}</code></div>\n+          <div class=\"kv\"><span>Nonce</span><code>{{ modals.block.nonce }}</code></div>\n+          <div class=\"kv\"><span>Ø²Ù…Ø§Ù†</span><code>{{ formatTime(modals.block.timestamp, true) }}</code></div>\n+\n+          <h4>Transactions ({{ modals.block.transactions.length }})</h4>\n+          <div class=\"list\">\n+            <div class=\"tx-row\" v-for=\"tx in modals.block.transactions\" :key=\"tx.id\" @click=\"openTx(tx)\">\n+              <div class=\"txid\">{{ short(tx.id) }}</div>\n+              <div class=\"meta\">\n+                <span v-if=\"tx.isCoinbase\" class=\"tag\">COINBASE</span>\n+                <span>In: {{ tx.inputs.length }}</span>\n+                <span>Out: {{ tx.outputs.length }}</span>\n+              </div>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+\n+    <!-- Tx Modal -->\n+    <div class=\"modal\" v-if=\"modals.tx\">\n+      <div class=\"modal-content\">\n+        <div class=\"modal-header\">\n+          <h3>TX {{ short(modals.tx.id) }}</h3>\n+          <button class=\"close\" @click=\"modals.tx=null\">Ã—</button>\n+        </div>\n+        <div class=\"modal-body\">\n+          <div class=\"kv\"><span>TxID</span><code>{{ modals.tx.id }}</code></div>\n+          <div class=\"split\">\n+            <div>\n+              <h4>Inputs ({{ modals.tx.inputs.length }})</h4>\n+              <table class=\"tab\">\n+                <thead><tr><th>txid</th><th>idx</th><th>pubKey</th></tr></thead>\n+                <tbody>\n+                  <tr v-for=\"i in modals.tx.inputs\" :key=\"i.txid+':'+i.index\">\n+                    <td><code>{{ short(i.txid) }}</code></td>\n+                    <td>{{ i.index }}</td>\n+                    <td><code class=\"mono\">{{ short(i.pubKey) }}</code></td>\n+                  </tr>\n+                </tbody>\n+              </table>\n+            </div>\n+            <div>\n+              <h4>Outputs ({{ modals.tx.outputs.length }})</h4>\n+              <table class=\"tab\">\n+                <thead><tr><th>address</th><th>amount</th></tr></thead>\n+                <tbody>\n+                  <tr v-for=\"(o,idx) in modals.tx.outputs\" :key=\"idx\">\n+                    <td><code class=\"mono\">{{ o.address }}</code></td>\n+                    <td>{{ o.amount }}</td>\n+                  </tr>\n+                </tbody>\n+              </table>\n+            </div>\n+          </div>\n+          <div v-if=\"modals.tx.isCoinbase\" class=\"note\">* Ø§ÛŒÙ† ØªØ±Ø§Ú©Ù†Ø´ Ú©ÙˆÛŒÙ†â€ŒØ¨ÛŒØ³ Ø§Ø³Øª.</div>\n+        </div>\n+      </div>\n+    </div>\n+\n+    <footer class=\"footer\">Â© Mini-Chain Explorer â€¢ Vue 3</footer>\n+  </div>\n+\n+  <script src=\"app.js\"></script>\n </body>\n </html>\n"
                },
                {
                    "date": 1762002512353,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,13 @@\n <!doctype html>\n-<html lang=\"fa\" dir=\"rtl\">\n+<html lang=\"en\" dir=\"ltr\">\n <head>\n   <meta charset=\"utf-8\" />\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n-  <title>Mini-Blockchain Scanner</title>\n+  <title>Mini-Blockchain Explorer</title>\n   <!-- Vue 3 CDN -->\n   <script src=\"https://unpkg.com/vue@3/dist/vue.global.prod.js\"></script>\n-  <!-- Icons -->\n+  <!-- Fonts -->\n   <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n   <link href=\"https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;800&display=swap\" rel=\"stylesheet\">\n   <link rel=\"stylesheet\" href=\"style.css\"/>\n </head>\n@@ -15,21 +15,21 @@\n   <div id=\"app\">\n     <header class=\"topbar\">\n       <div class=\"brand\">Mini-Chain Explorer</div>\n       <div class=\"top-stats\">\n-        <span>Ø§Ø±ØªÙØ§Ø¹: <b>{{ stats.height ?? 'â€”' }}</b></span>\n+        <span>Height: <b>{{ stats.height ?? 'â€”' }}</b></span>\n         <span>Bits: <b>{{ stats.bits ? '0x'+stats.bits.toString(16) : 'â€”' }}</b></span>\n-        <span>Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ù„Ø§Ú©: <b>{{ stats.avgBlockSec ?? 'â€”' }}</b> s</span>\n-        <span>Ù†Ø±Ø® Ù‡Ø´ Ø´Ø¨Ú©Ù‡: <b>{{ stats.estHashrate }}</b></span>\n+        <span>Avg Block Time: <b>{{ stats.avgBlockSec ?? 'â€”' }}</b> s</span>\n+        <span>Network Hashrate: <b>{{ stats.estHashrate }}</b></span>\n       </div>\n     </header>\n \n     <main class=\"container\">\n       <section class=\"panel\">\n         <div class=\"panel-header\">\n-          <h3>Ù†Ù…Ø§ÛŒØ´ Ø²Ù†Ø¬ÛŒØ±Ù‡ (Ø¢Ø®Ø±ÛŒÙ† ÛµÛ° Ø¨Ù„Ø§Ú©)</h3>\n+          <h3>Blockchain View (Last 50 Blocks)</h3>\n           <div class=\"actions\">\n-            <button @click=\"reload()\">Ø¨Ø§Ø²Ø®ÙˆØ§Ù†ÛŒ</button>\n+            <button @click=\"reload()\">Reload</button>\n           </div>\n         </div>\n         <div class=\"chain-strip\" v-if=\"chainWindow.length\">\n           <div\n@@ -44,9 +44,9 @@\n             <div class=\"txc\">TXs: {{ b.transactions.length }}</div>\n             <div class=\"time\">{{ formatTime(b.timestamp) }}</div>\n           </div>\n         </div>\n-        <div class=\"empty\" v-else>Ø²Ù†Ø¬ÛŒØ±Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒâ€¦</div>\n+        <div class=\"empty\" v-else>Loading chainâ€¦</div>\n       </section>\n \n       <section class=\"grid\">\n         <div class=\"panel\">\n@@ -57,31 +57,31 @@\n           <div class=\"list\" v-if=\"mempool.length\">\n             <div class=\"tx-row\" v-for=\"tx in mempool\" :key=\"tx.id\" @click=\"openTx(tx)\">\n               <div class=\"txid\">{{ short(tx.id) }}</div>\n               <div class=\"meta\">\n-                <span>ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§: {{ tx.inputs.length }}</span>\n-                <span>Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§: {{ tx.outputs.length }}</span>\n+                <span>Inputs: {{ tx.inputs.length }}</span>\n+                <span>Outputs: {{ tx.outputs.length }}</span>\n               </div>\n             </div>\n           </div>\n-          <div class=\"empty\" v-else>Ù‡ÛŒÚ† ØªØ±Ø§Ú©Ù†Ø´ÛŒ Ø¯Ø± Ù…Ù…â€ŒÙ¾ÙˆÙ„ Ù†ÛŒØ³Øª.</div>\n+          <div class=\"empty\" v-else>No transactions in mempool.</div>\n         </div>\n \n         <div class=\"panel\">\n           <div class=\"panel-header\">\n-            <h3>ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡ (Ø§Ø®ÛŒØ±)</h3>\n+            <h3>Confirmed Transactions (Recent)</h3>\n           </div>\n           <div class=\"list\" v-if=\"recentConfirmed.length\">\n             <div class=\"tx-row\" v-for=\"r in recentConfirmed\" :key=\"r.tx.id\" @click=\"openTx(r.tx)\">\n               <div class=\"txid\">{{ short(r.tx.id) }}</div>\n               <div class=\"meta\">\n                 <span>#{{ r.blockHeight }}</span>\n-                <span>ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§: {{ r.tx.inputs.length }}</span>\n-                <span>Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§: {{ r.tx.outputs.length }}</span>\n+                <span>Inputs: {{ r.tx.inputs.length }}</span>\n+                <span>Outputs: {{ r.tx.outputs.length }}</span>\n               </div>\n             </div>\n           </div>\n-          <div class=\"empty\" v-else>Ú†ÛŒØ²ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ÛŒØ³Øª.</div>\n+          <div class=\"empty\" v-else>Nothing to display.</div>\n         </div>\n       </section>\n     </main>\n \n@@ -93,13 +93,13 @@\n           <button class=\"close\" @click=\"modals.block=null\">Ã—</button>\n         </div>\n         <div class=\"modal-body\">\n           <div class=\"kv\"><span>Hash</span><code>{{ hashOf(modals.block) }}</code></div>\n-          <div class=\"kv\"><span>Prev</span><code>{{ modals.block.previousHash }}</code></div>\n+          <div class=\"kv\"><span>Previous</span><code>{{ modals.block.previousHash }}</code></div>\n           <div class=\"kv\"><span>Merkle</span><code>{{ modals.block.merkleRoot }}</code></div>\n           <div class=\"kv\"><span>Bits</span><code>{{ '0x'+(modals.block.bits>>>0).toString(16) }}</code></div>\n           <div class=\"kv\"><span>Nonce</span><code>{{ modals.block.nonce }}</code></div>\n-          <div class=\"kv\"><span>Ø²Ù…Ø§Ù†</span><code>{{ formatTime(modals.block.timestamp, true) }}</code></div>\n+          <div class=\"kv\"><span>Timestamp</span><code>{{ formatTime(modals.block.timestamp, true) }}</code></div>\n \n           <h4>Transactions ({{ modals.block.transactions.length }})</h4>\n           <div class=\"list\">\n             <div class=\"tx-row\" v-for=\"tx in modals.block.transactions\" :key=\"tx.id\" @click=\"openTx(tx)\">\n@@ -114,9 +114,9 @@\n         </div>\n       </div>\n     </div>\n \n-    <!-- Tx Modal -->\n+    <!-- Transaction Modal -->\n     <div class=\"modal\" v-if=\"modals.tx\">\n       <div class=\"modal-content\">\n         <div class=\"modal-header\">\n           <h3>TX {{ short(modals.tx.id) }}</h3>\n@@ -150,9 +150,9 @@\n                 </tbody>\n               </table>\n             </div>\n           </div>\n-          <div v-if=\"modals.tx.isCoinbase\" class=\"note\">* Ø§ÛŒÙ† ØªØ±Ø§Ú©Ù†Ø´ Ú©ÙˆÛŒÙ†â€ŒØ¨ÛŒØ³ Ø§Ø³Øª.</div>\n+          <div v-if=\"modals.tx.isCoinbase\" class=\"note\">* This is a coinbase transaction.</div>\n         </div>\n       </div>\n     </div>\n \n"
                }
            ],
            "date": 1761987024829,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\n<html lang=\"fa\">\n<head>\n<meta charset=\"UTF-8\" />\n<title>Mini Blockchain Scanner</title>\n<style>\n  body { font-family: sans-serif; background: #121212; color: #eaeaea; text-align: center; }\n  input { padding: 8px; width: 320px; border-radius: 6px; border: 1px solid #555; background: #1e1e1e; color: #fff; }\n  button { padding: 8px 16px; margin-left: 8px; background: #0066ff; border: none; color: #fff; border-radius: 6px; cursor: pointer; }\n  table { margin: 20px auto; border-collapse: collapse; width: 90%; }\n  th, td { border: 1px solid #333; padding: 6px 8px; }\n  th { background: #222; }\n  .incoming { color: #00ff99; }\n  .outgoing { color: #ff5555; }\n</style>\n</head>\n<body>\n<h2>ğŸ” Mini Blockchain Scanner</h2>\n\n<div>\n  <input id=\"addr\" placeholder=\"Enter wallet address...\" />\n  <button onclick=\"loadAddress()\">Search</button>\n</div>\n\n<h3 id=\"bal\">Balance: ...</h3>\n\n<div id=\"txs\"></div>\n\n<script>\nconst API = '/api/address/';\nconst ws = new WebSocket(`ws://${location.host}`);\nws.onmessage = (ev) => {\n  const msg = JSON.parse(ev.data);\n  if (['new_block','mempool_tx'].includes(msg.type)) {\n    if (window.currentAddress) loadAddress(window.currentAddress);\n  }\n};\n\nasync function loadAddress(addr) {\n  if (!addr) addr = document.getElementById('addr').value.trim();\n  if (!addr) return;\n  window.currentAddress = addr;\n  document.getElementById('bal').textContent = 'Loading...';\n  const res = await fetch(API + addr);\n  const data = await res.json();\n\n  document.getElementById('bal').textContent =\n    `Balance: ${data.balance} (UTXOs: ${data.utxos.length})`;\n\n  let html = '<table><tr><th>TXID</th><th>Block</th><th>In</th><th>Out</th><th>Net</th></tr>';\n  for (const t of data.txHistory) {\n    html += `<tr>\n      <td>${t.txid.slice(0,12)}...</td>\n      <td>${t.block ?? 'mempool'}</td>\n      <td>${t.received}</td>\n      <td>${t.sent}</td>\n      <td class=\"${t.net>=0?'incoming':'outgoing'}\">${t.net>=0?'+':'-'}${Math.abs(t.net)}</td>\n    </tr>`;\n  }\n  html += '</table>';\n  document.getElementById('txs').innerHTML = html;\n}\n</script>\n</body>\n</html>\n"
        }
    ]
}